<parent:EditorModuleClass xmlns="http://www.w3.org/1999/xhtml"
                          xmlns:parent="hip.module" xmlns:svg="hip.svg" xmlns:view="hip.view"
                          class="with-footer">

    <div class="header">
        <a onclick="goBack" class="back-btn">
            <i class="fa fa-angle-left"/>
        </a>
        <h2>Style your own</h2>
    </div>


    <div class="content {appearanceClass()}">
        <!--<a>-->
        <!--Undo-->
        <!--</a>-->

        <a class="zoom-btn" onclick="toggleZoom" selected="{zoomVisible}">
            <i class="fa fa-search-plus" visible="{not(zoomed)}"/>
            <i class="fa fa-search-minus" visible="{zoomed}"/>
        </a>

        <div class="configuration-info" selected="{configurationViewer}">
            <div>
                <div visible="{configurationViewer._moving}">
                    x : {format(configurationViewer._realOffset.x)}
                    y : {format(configurationViewer._realOffset.y)}
                </div>
                <div visible="{not(configurationViewer._moving)}">
                    w : {format(configurationViewer._size.width)}
                    h : {format(configurationViewer._size.height)}
                </div>
            </div>
        </div>

        <div cid="innerContent" class="inner-content" heightUpdatePolicy="in" height="100%">
            <div class="product-viewer-wrapper" cid="wrapper"
                 height="{height}"
                 width="{height}"
                 marginLeft="{minusHalf(width)}px"
                 left="50%"
                 onclick="toggleView(addView, false)">
                <svg:ProductViewer cid="productViewer" height="{height}" width="{height}" product="{product}"/>
            </div>
        </div>

        <div class="configuration-info text-configuration-info" selected="{showTextHint}">
            <div>
                Tap text twice to edit
            </div>
        </div>

    </div>

    <div class="footer">
        <a onclick="showSettings" enabled="{selectedConfiguration}">
            <i class="fa fa-pencil"/>
            Edit
        </a>
        <a onclick="toggleView(addView, true)">
            <i class="fa fa-plus"/>
            Add
        </a>

        <a onclick="toggleView(finishView, true)">
            <i class="fa fa-check"/>
            Save
        </a>

    </div>

    <div class="setting-views" selected="{settingsSelected}">
        <view:TextSettingsView oncloseClicked="hideSettings"/>
        <view:ImageSettingsView oncloseClicked="hideSettings"/>
        <view:ShapeSettingsView oncloseClicked="hideSettings"/>
    </div>

    <input cid="fileInput" type="file" onchange="handleUpload"/>


    <div class="add-view" cid="addView">
        <div>
            <a onclick="add('text',event)">
                <i class="fa fa-font"/>
                Add Text
            </a>
            <a onclick="add('image')" class="needsclick">
                <i class="fa fa-picture-o"/>
                Add Image
            </a>
            <a onclick="add('rectangle')">
                <i class="fa fa-stop"/>
                Add Rectangle
            </a>
            <a onclick="add('circle')">
                <i class="fa fa-circle"/>
                Add Circle
            </a>
        </div>

        <a class="close-btn" onclick="toggleView(addView, false)">
            Close
            <i class="fa fa-chevron-down"/>
        </a>
    </div>

    <div class="finish-view" cid="finishView">
        <div>
            <a class="close-btn" onclick="toggleView(finishView, false)">Close</a>
            <div>
                PRODUCT
            </div>
            <div>
                <textarea>
                    Give it a title
                </textarea>
            </div>

            <a>
                Save as draft
            </a>
            <div>
                Make product public
                <input type="checkbox" checked="{{makePublic}}"/>
            </div>
            <a>
                Save and add to basket
            </a>
        </div>
    </div>

</parent:EditorModuleClass>